---
title: "データ解析論I第12講"
output: 
  flexdashboard::flex_dashboard:
    vertical-layout: scroll
    orientation: columns
    source_code: embed
    theme: journal
    toc: true
    toc_depth: 2
    fig_mobile: true
    highlight: pygments
    css: styles_customized.css
---

```{r setup, include=FALSE}
library(readr)
library(ggplot2)
library(dplyr)
exdataset <- read_csv("/Users/akira/Dropbox/Education/2019MEIJI/[3_Wed2]Data_Analytics/analysis/data/exdataset.csv")

## Reordering exdataset$ARE
exdataset$ARE <- factor(exdataset$ARE, levels=c("Kanto", "Hokkaido", "Tohoku", "Chubu", "Kinki", "Chugoku", "Shikoku", "Kyushu"))

## Reordering exdataset$MAR
exdataset$MAR <- factor(exdataset$MAR, levels=c("NotMarried", "Married"))

## Reordering exdataset$CHI
exdataset$CHI <- factor(exdataset$CHI, levels=c("NoChild", "Child"))

```




# 講義資料

## メイン資料 {.tabset .tabset-fade}

### 今日の資料はコチラから．

<div align="center">
<img src="/Users/akira/Dropbox/Education/2019MEIJI/[3_Wed2]Data_Analytics/analysis/code/picture/qr_12th.png" width="500px">
</div>

<div style="text-align: center;">
スマホで見る方は**QRコード**を読み込んでください
</div>



### 前回の復習



#### 2要因分散分析(交互作用あり)
続いて，2要因分散分析に進みたいと思います．2要因分散分析とは，複数の要因による影響を分析するものです．例えば，主観的幸福度は子の有無(1,0のダミー変数)だけでなく，結婚しているか否か(1, 0のダミー変数)によっても影響を受ける可能性があります．これを用いると「子がいない未婚者」「子がいない既婚者」「子がいる未婚者」「子がいる既婚者」の計4つの状態があります．


したがって，これらが影響を与えているかどうかを明らかにするために，いずれの要因についても投入したモデル式について考えたいと思います．ここでは，次のようなモデル式を考えたいと思います．

$$Y_i=\beta_1 X_1 +\beta_2 X_2 +\beta_3 X_1* X_2 + \alpha+\epsilon_i $$

このモデル式によって，「4つの状態」を分析することができます．一度整理してみましょう．




*  $X_1 =1$と$X_2 =0$の場合    
	$$Y_i=\beta_1 X_1+\alpha+\epsilon_i$$
	- この場合，ある因子$X_1$ によって，傾きが変化することを示しています．
	- ex.子がいない独身者よりも，子がいる独身者の方が幸せ

* $X_1 =0$と$X_2 =1$の場合  
	$$ Y_i=\beta_2 X_2 + \alpha+\epsilon_i $$
	- この場合，ある因子$X_2$ によって，傾きが変化することを示しています．
	- ex.子がいない未婚者よりも，子がいない既婚者の方が幸せ

* $X_1 =1とX_2 =1$の場合  
	$$Y_i= \beta_1 X_1 +\beta_2 X_2 +\beta_3 X_1* X_2 + \alpha+\epsilon_i $$
	
	 - この場合，$X_1$ と$X_2$ が影響する場合の値を示していることになります．特に，$X_1* X_2$ の係数が有意になる場合は単純に$X_1$ と$X_2$ が同じように影響を与えているだけでなく，組み合わさることによって効果が強まることを示しています．
	 - 「組み合わさることにより効果が変化する」ことを「交互作用」といいます．
	
	 - ex.子がいない未婚者よりも，子がいる既婚者の方が幸せ

 * $X_1 =0とX_2 =0$の場合
	$$ Y_i= \alpha+\epsilon_i $$
  - この場合，全ての要因が影響しない場合（何らかの基準となる点）の値を示していることになります．
	- ex.子がいない未婚者


#### 仮説を立てる

さて，それでは仮説を立ててみましょう．今回分析するテーマは「主観的幸福度(SUB_HAP)が子の有無(CHI)と結婚(MAR)によって異なる」かどうかを分析します．二要因分散分析（交互作用有り）の場合は以下のような仮説を立てます．

	* 対立仮説：主観的幸福度の平均値は結婚かつ子の有無によって異なる．
	* 帰無仮説：主観的幸福度の平均値は結婚かつ子の有無によって異なるとは言えない．

この6つの仮説のもとに分析を行ないます．

#### 数値データを因子データに変える．

##### R上で数値データを因子データに変換する方法
	あるデータを因子水準に変える場合はas.factor()という関数を使います．ここでは試しに，性別を因子水準に変えてみましょう．
	"MAR"結婚をしているかしていないかに関するデータであるが，数字データのままである．これを因子データにしたい．
	

#### 平均値をプロットする

さて，最初のお約束です．平均値をプロットしましょう．
まずは各自でやってみましょう．

さて，例によってggplotguiを使いましょう．

以下のコードはConsole（コンソール）に直接打ち込みます．

```
library(ggplotgui)
ggplot_shiny(exdataset)
```

そうすると新しいウィンドウが開きます．

以下の通りの作業をしましょう．

* ggplotタブへ
* "*Type of graph:*"は"*Dot + Error*"，Y-variableは"*SUB_HAP*"，X-variableは"*MAR*"を設定
* "Group(or colour)"を*CHI*に変更
* "*Confidence Interval:*"を95%にする．
* R-codeタブへ行って，以下のコードのうち，真ん中のみを以下にする．
    -また，コード内の*df*を*exdataset*に変える．


```{r echo=TRUE}
# You need the following package(s):
library("ggplot2")

# The code below will generate the graph:
graph <- ggplot(exdataset, aes(x = MAR, y = SUB_HAP, colour = CHI)) +
  geom_point(stat = 'summary', fun.y = 'mean') +
  geom_errorbar(stat = 'summary', fun.data = 'mean_se', 
                width=0, fun.args = list(mult = 1.96)) +
  theme_bw()
graph

```

このグラフを見る限り，未婚者に比べて既婚者の方が主観的幸福度が高そうですが，子の有無の影響はわかりません．したがって，この点についても統計的に差があるのかどうかを明らかにしましょう．



```{r echo=TRUE}
marchihap_model <-lm(SUB_HAP ~ MAR*CHI, data = exdataset)
#モデル式をMARCHIHAP\_modelというオブジェクトにしまいます．

anova(marchihap_model)#分散分析にはanova()という関数を使います．

```



* パッケージpanderの中にある関数panderを使うと，結果がわかりやすく表示されます．
```{r echo=TRUE}
library(pander)
pander(marchihap_model)

pander(anova(marchihap_model))

```


* 他にもパッケージhuxtableの中にhuxregという関数があります．
```{r echo=TRUE}
library(huxtable)
huxreg(marchihap_model)


```

* パッケージcoefplotを使って，各係数の大きさをグラフで示しておこう．
  - 特にこれから重回帰分析などを学ぶ上で知っておくと便利です．
  
```{r echo=TRUE}
library(coefplot)
# インストールした覚えがない場合は`install.packages("coefplot")`をしておきましょう．
coefplot(marchihap_model)

```


* パッケージstargazerの中にあるstargazerという関数を使うとxls形式で出力できます．

```{r echo=TRUE}
library(stargazer)
stargazer(marchihap_model, type = "html", align=TRUE, title = "分析結果", out = "marchihap_model.xls")

```




#### 結果の読み解き方
この分散分析表の結果より以下のように結果を導き出すことが出来ます．
	交互作用のある分散分析により，主観的幸福度は結婚および子の有無によって異なるかを分析した．その結果，結婚についてはF(1, 959)=120.63(p< .001)であり，結婚が主観的幸福度に対して有意に影響を与えていることが明らかとなった．一方，子の有無についてはF(1, 959)=1.2102(p> .05)，結婚と子の有無の交互作用についてはF(1, 959)=0.3448(p> .05)であり，有意差は認められなかった．
	
	
	
この結果は以下のように解釈することが出来ます．

$$(主観的幸福度)=1.543(結婚)+0.359(子ども)-0.231(結婚×子ども)+5.012$$

ただし，以下のように変数を割り振っています．
結婚：未婚→0，既婚→1

子ども：子なし→0，子あり→1

したがって，「未婚者かつ子なし」「未婚者かつ子あり」「既婚者かつ子なし」「既婚者かつ子あり」という4つのありえる状態について，次のように主観的幸福度を推定することが出来ます．


*「未婚者かつ子なし」
	$$(主観的幸福度)=1.543×0+0.359×0-0.231(0×0)+5.012$$　
	$$(主観的幸福度)=5.012$$
	
* 「未婚者かつ子あり」 
	$$(主観的幸福度)=1.543×0+0.359×1-0.231(0×1)+5.012$$ 
	$$(主観的幸福度)=0.359×1+5.012=5.371$$ 
	
* 「既婚者かつ子なし」 
	$$(主観的幸福度)=1.543×1+0.359×0-0.231(1×0)+5.012$$ 
	$$(主観的幸福度)=1.543×1+5.012=6.555$$ 
	
* 「既婚者かつ子あり」 
	$$(主観的幸福度)=1.543×1+0.359×1-0.231(1×1)+5.012$$ 
	$$(主観的幸福度)=1.543×1+0.359×1-0.231(1×1)+5.012=6.683$$ 

ここから，未婚者に比べて既婚者の主観的幸福度が高いことはわかりますが，子の有無は主観的幸福度に対して影響をどうも与えなそうです．


### 今日のタスク

* *[こちらのリスト](https://docs.google.com/spreadsheets/d/1TNtBJdar2XiVRUFFK_5aTY-zReMA44iqWLXdx6L56HY/edit#gid=0)*からデータの置き換えを完成させましょう．
  - ダウンロードして，csvに置き換えてからRStudioで読み込ませましょう．



#### 2要因分散分析（交互作用なし）

今までの例題，分散分析表からは「結婚」が主観的幸福度に影響を与えることは明らかになりましたが，「子の有無」や「結婚と子の有無の交互作用」は認められませんでした．したがって，結婚をしているかどうかで主観的幸福度が高くなることは明らかとなりましたが，子がいるかどうかが主観的幸福度に影響を与えるとはいえないこと，さらに結婚しているかどうか，かつ子がいるかどうかという両者の影響が組み合わさっても影響がないことが明らかとなりました．



この結果は「未婚者かつ子なし」「未婚者かつ子あり」「既婚者かつ子なし」「既婚者かつ子あり」という4つの状態がありえました．

「未婚者」に比べて，「既婚者」の主観的幸福度が高いことがわかりましたが，子の有無が与える影響と，「結婚していることかつ子の有無が与える影響」についてはあるとは言えない結果が得られました．先程の「交互作用」は「結婚していることかつ子の有無が与える影響」を示しています．

しかし，この「交互作用」が認められなかった場合は「結婚が影響しているのか？」「子の有無が影響しているのか？」のみを検討する必要があります．すなわち，「交互作用」がない場合についても検討する必要があります．
そのために，「交互作用なし」の分散分析をする必要があります
>ただし，いきなり「交互作用なし」の分析，すなわち「結婚していることかつ子の有無が与える影響」はないものとして検討することもあります．これについては研究領域の違いがあるので，その領域の慣習に従ってください．

言い換えると，交互作用なしの分析では「結婚していることかつ子の有無が与える影響」はないことを前提とした分析ということになります．


モデル式で考えると，こんな感じです．

$$Y_i=\beta_1 X_1 +\beta_2 X_2 + \alpha+\epsilon_i $$


このモデル式によって以下の4つの状態を考えることができます．


* \(X_1 =1 とX_2 =0\)の場合
	$$  Y_i=\beta_1 X_1  + \alpha+\epsilon_i $$
    - この場合，ある因子\(X_1\) によって，傾きが変化することを示しています．
    - ex.結婚の影響が認められる

 * \(X_1 =0 とX_2 =1\)の場合
	$$ Y_i=\beta_2 X_2 + \alpha+\epsilon_i $$
    - この場合，ある因子\(X_2\) によって，傾きが変化することを示しています．
    - ex.子の有無の影響が認められる．

 * \(X_1 =1 とX_2 =1\)の場合
	$$ Y_i= \beta_1 X_1 +\beta_2 X_2 + \alpha+\epsilon_i $$
	  - この場合，\(X_1\) と\(X_2\)が影響する場合の値を示していることになります．
		- ex.結婚の影響と子の有無の影響が認められる．

 * \(X_1 =0 とX_2 =0\)の場合
	$$ Y_i= \alpha+\epsilon_i $$
	  - この場合，全ての要因が影響しない場合（何らかの基準となる点）の値を示していることになります．
	  - ex.結婚の影響も子の有無の影響も認められない．


#### 仮説を立てる

さて，それでは仮説を立ててみましょう．今回分析するテーマは「主観的幸福度(SUB_HAP)が子の有無(CHI)と結婚(MAR)によって異なる」かどうかを分析します．二要因分散分析（交互作用なし）の場合は以下のような仮説を立てます．

\begin{itemize}
	\item 対立仮説1.：主観的幸福度の平均値は結婚が影響を与える．
	\item 対立仮説2.：主観的幸福度の平均値は子の有無が影響を与える．
	\item 帰無仮説1.：主観的幸福度の平均値は結婚が影響を与えるとは言えない．
	\item 帰無仮説2.：主観的幸福度の平均値は子の有無が影響を与えるとは言えない．
\end{itemize}


この2つの仮説のもとに分析を行ないます．




#### 平均値をプロットする

さて，最初のお約束です．平均値をプロットしましょう．
まずは各自でやってみましょう．

さて，例によってggplotguiを使いましょう．

以下のコードはConsole（コンソール）に直接打ち込みます．

```
library(ggplotgui)
ggplot_shiny(exdataset)
```

そうすると新しいウィンドウが開きます．

以下の通りの作業をしましょう．

* ggplotタブへ
* "*Type of graph:*"は"*Dot + Error*"，Y-variableは"*SUB_HAP*"，X-variableは"*fac_MAR*"を設定
* "Group(or colour)"を*fac_CHI*に変更
* "*Confidence Interval:*"を95%にする．
* R-codeタブへ行って，以下のコードのうち，真ん中のみを以下にする．
    -また，コード内の*df*を*dataset*に変える．


```{r}
# You need the following package(s):
library("ggplot2")

# The code below will generate the graph:
graph <- ggplot(exdataset, aes(x = MAR, y = SUB_HAP, colour = CHI)) +
  geom_point(stat = 'summary', fun.y = 'mean') +
  geom_errorbar(stat = 'summary', fun.data = 'mean_se', 
                width=0, fun.args = list(mult = 1.96)) +
  theme_bw()
graph

```

このグラフを見る限り，未婚者に比べて既婚者の方が主観的幸福度が高そうですが，子の有無の影響はわかりません．したがって，この点についても統計的に差があるのかどうかを明らかにしましょう．



```{r}
marchihap_model_noint <-lm(SUB_HAP ~ MAR+CHI, data = exdataset)
#モデル式をMARCHIHAP\_modelというオブジェクトにしまいます．

anova(marchihap_model_noint)#分散分析にはanova()という関数を使います．

summary(marchihap_model_noint)#モデル式も出しておきましょう．．

```



```{r}
pander(marchihap_model_noint)

pander(anova(marchihap_model_noint))#分散分析にはanova()という関数を使います．

```



* パッケージpanderの中にある関数panderを使うと，結果がわかりやすく表示されます．
```{r echo=TRUE}
library(pander)
pander(marchihap_model_noint)

pander(anova(marchihap_model_noint))

```


* 他にもパッケージhuxtableの中にhuxregという関数があります．
```{r echo=TRUE}
library(huxtable)
huxreg(marchihap_model_noint)


```

* パッケージcoefplotを使って，各係数の大きさをグラフで示しておこう．
  - 特にこれから重回帰分析などを学ぶ上で知っておくと便利です．
  
```{r echo=TRUE}
library(coefplot)
# インストールした覚えがない場合は`install.packages("coefplot")`をしておきましょう．
coefplot(marchihap_model_noint)

```


* パッケージstargazerの中にあるstargazerという関数を使うとxls形式で出力できます．

```{r echo=TRUE}
library(stargazer)
stargazer(marchihap_model_noint, type = "html", align=TRUE, title = "分析結果", out = "marchihap_model_noint.xls")

```



#### 結果の読み解き方
交互作用のない分散分析により，主観的幸福度は地域によって異なるかを分析した．その結果，結婚の影響はF(1, 960)=120.71(p<.001)であり，結婚は主観的幸福度に対して有意に影響を与えることが明らかとなった．一方，子の有無の影響はF(1, 960)=11.21(p>.05)であり，有意な影響は認められなかった．
	
	

この結果は以下のように解釈することが出来ます．

$$(主観的幸福度)=1.464(結婚)+0.202(子ども)+5.033$$

ただし，以下のように変数を割り振っています．
結婚：未婚→0，既婚→1

子ども：子なし→0，子あり→1

したがって，結婚と子の有無の影響は以下のように表すことができます．

* 「未婚者かつ子なし」
$$(主観的幸福度)=1.464×0+0.202×0+5.033$$
$$(主観的幸福度)=5.033$$
* 「未婚者かつ子あり」
$$(主観的幸福度)=1.464×0+0.202×1+5.033$$
$$(主観的幸福度)=0.202+5.033=5.235$$
* 「既婚者かつ子なし」
$$(主観的幸福度)=1.464×1+0.202×0+5.033$$
$$(主観的幸福度)=1.464+5.033=6.497$$
* 「既婚者かつ子あり」
$$(主観的幸福度)=1.464×1+0.202×1+5.033$$
$$(主観的幸福度)=1.464+0.202+5.033=6.699$$



ここからも，結婚の影響は認められますが，子の有無は認められなそうです．


#### モデル選択：

モデル選択とは，複数の統計モデルを比較する時に用いる手法です．
ここでは，モデル選択の手法として，分散分析によるモデル選択とAICに基づくモデル選択，さらにステップワイズ法を紹介します．


#### 分散分析によるモデル選択：

　分散分析に基づいた近似計算とは，２つのモデル式もとにして，分散分析を用いることでモデル選択をすることができます．
　
　ここでは，主観的幸福度を応答変数として，説明変数として未既婚と子どもの有無を設定したモデルについて，交互作用ありとなしの2つを比較します．


```{r}
anova(marchihap_model,marchihap_model_noint)
```

　この結果はモデル1である交互作用ありモデルと，モデル2である交互作用なしモデルを比較すると，どちらのモデルも差があるとはいえない確率が55%もあるということを示しております．
　この場合は，より単純なモデルとして交互作用のないモデルを選択します．


#### AIC：

　AICとはAkaike's Information Criterion（赤池情報量規準）と呼ばれるものであり，モデル評価の規準の一つです．
　
　$$AIC = -2log(尤度)+k×(パラメータ数)$$
　
　として算出され，この値が最小になるモデルを採択します．特に，2つのモデルを選択する時には2つのモデルについてAICの差分が2以上あるとそのモデルを選択することができます．
　
　まずはAICを算出してみましょう．


```{r}
AIC(marchihap_model,marchihap_model_noint)
```

ここでは交互作用なしのモデルの方が小さい値を示しています．2つのモデルのAICの差分が2はギリギリありませんが，この場合は交互作用なしのモデルを採択してもよいかと思います．

#### ステップワイズ法

　ステップワイズ法とは，今までの複数のモデルを比較するのではなく，モデルの説明変数を「取捨選択」するための手法です．イメージとしては，最もデータを含んだモデルから，複数の基準をもとに評価して，応答変数を説明するのに必要十分な説明変数を取り出す方法です．
　
　変数減少法，変数増加法，変数増減法といった三種類の方法がありますが，変数減少法を紹介します．
　
　ここでは，最も多く変数を含めたモデルとして交互作用ありのモデルから始めます．


```{r}
step(marchihap_model)
```

　この結果，最も十分なモデルとして主観的幸福度を未既婚のみで説明するモデルが採択されました．
　
　
　これらのモデル選択は分析の目的によって使う方法が異なります．よく考えてモデルを選びましょう．


### 今日のTake Home Messages  

#### 分散分析（一般線形モデルによる分散分析モデルによる分析）

* 一般線形モデルによる分散分析モデル
  - ダミー変数が複数あるような状況を前提とする．
  
* 交互作用ありモデル：
  - 組み合わせによってパワーパップorパワーダウン．．．

* 交互作用なしモデル：
  - 組み合わせによってパワーパップorパワーダウンしない．

```
	オブジェクト<-lm(応答変数　<-　説明変数, data = データセットの名前)
	これについて，回帰分析／t検定の時は以下のコードを使っています．
	summary(オブジェクト)
	これについて，分散分析の時は以下のコードを使っています．
	anova(オブジェクト)
```





### Rでデータを扱う時に注意すべきこと


 * 必ず数字／文字は半角で入力する．
 * 日本語は使わずにローマ字を使用する．
 * コメントアウト（コードではなく，関係ないメモを入れること）をするときは半角の「#」から始める．
    - メモする内容は全角でもよい．
 * ファイル名およびパスには決して全角の文字（ひらがな，カタカナ，漢字，全角スペースなど）を入れてはいけない．
    - 半角英数字だけにする．
    
 * 慌てずに落ち着いて操作すれば，決して難しくない．
    - 1つずつ落ち着いて作業することを心がける．
 * 「わからない」ことを恐れない
    - 周りの友人に聞いたり，教員に確認したりしよう．
    
 * 文字化け対策に**[こちら](https://docs.google.com/document/d/1CYF6LeFeGV9dTWHGuznkO0Tm4RnhAu2KatdSqFn7bmU/edit)** のp8以降を確認して設定しよう．
    
 


# 演習問題

## 問題 {.tabset .tabset-fade}

### 問題


#### 演習問題1
　"SUB_HAP"は主観的幸福度，"SUB_SAT"は生活満足度，"SUB_SLP"は睡眠満足度に関するデータであった（各10点尺度）．これらを応答変数，性別を表す"F_SEX"及び結婚を示す"MAR"(0:未婚，1:既婚)を説明変数として，以下の3つの「*交互作用なし*」の分析を実施せよ．また，それぞれについてjpeg形式のグラフおよびExcel形式のファイルを出力せよ．なお，Excel形式のファイルについては分散分析表とモデルの結果を出力すること．
 * 主観的幸福度の性別差（男女その他）および既婚・未婚の影響を分析せよ．
 * 生活満足度の性別差（男女その他）および既婚・未婚の影響を分析せよ．
 * 睡眠満足度の性別差（男女その他）および既婚・未婚の影響を分析せよ．

#### 演習問題2	
　応用：もし，可能であればこちらについても挑戦すること．子の有無は"CHI"(0:子なし，1:子あり)で示されている．

 * 主観的幸福度の性別差（男女その他）および既婚・未婚と子の有無の影響を分析せよ．
 * 生活満足度の性別差（男女その他）および既婚・未婚と子の有無の影響を分析せよ．
 * 睡眠満足度の性別差（男女その他）および既婚・未婚と子の有無の影響を分析せよ．




#### リアクションペーパー：

* 授業で学んだことおよび感想を下記リンクからお答えください．


**[リアクションペーパー](https://forms.gle/jhMGgdhyb3sMgpWm7)**






### ヒント

* パッケージdplyrの関数filterを使います．
* ある列の中にあるデータの名前を個別に指定する時には""（ダブルクォーテーション）で囲います．

```{r echo=TRUE}



```



# データの概要



### データ概要

ダウンロードは**[コチラ](https://akrgt.github.io/2019DA/data/exdataset.csv)**から

```{r echo=TRUE}
library(DT)
DT::datatable(exdataset)
```



### 変数名リスト
#### 主観的指標

| 項目名       | データタイトル | 質問項目                                                     | 回答                                             |
| ------------ | -------------- | ------------------------------------------------------------ | ------------------------------------------------ |
| 主観的幸福度 | SUB_HAP        | 現在，あなたはどの程度幸せですか？「とても幸せ」を10点，「とても不幸せ」を0点とすると，何点くらいになると思いますか？* | 0点「とても不幸せ」-10点「とても幸せ」           |
| 生活満足度   | SUB_SAT        | あなたは全体として最近の生活にどの程度満足していますか？「とても満足」を10点，「とても不満足」を0点とすると，何点くらいになると思いますか？ | 0点「とても不満足」-10点「とても満足」           |
| 生活満足度   | SUB_SLP        | あなたは最近，どの程度眠れていますか？「とても眠れている」を10点，「全く眠れていない」を0点とすると，何点くらいになると思いますか？ | 0点「全く眠れていない」-10点「とても眠れている」 |




#### 独裁者ゲーム

図を見て下さい.  
あなたはAさんです. あなたはTポイントを10ポイントを受け取りました.  
そのうち，あなたはBさんに何ポイントかを渡すことができます．  
さて，あなたはBさんに何ポイント渡しますか？  
ここでは以下の条件の場合について教えて下さい.  

| 項目名       | データタイトル | 質問項目                      | 回答                 |
| ------------ | -------------- | ----------------------------- | -------------------- |
| 主観的幸福度 | DIC_PAR        | Bさんが両親の場合             | 0ポイント-10ポイント |
| DG友人条件   | DIC_FRI        | Bさんが友人の場合             | 0ポイント-10ポイント |
| DG他者条件   | DIC_OTH        | Bさんが全く知らない他人の場合 | 0ポイント-10ポイント |



#### 最終提案ゲーム_提案者

図を見て下さい.  
あなたはAさんです. あなたはTポイントを10ポイントを受け取りました.  
そのうち，あなたはBさんとポイントを分け合うことになりました．  
あなたは，Bさんに対して分け合うポイントを提案することができます．  
あなたは，10ポイントの中から，Bさんに対して分けたポイントを引いた残りを受け取ることができます．  
しかし，Bさんがあなたの提案を拒否した場合には，その提案は実現せずに，  
お互いポイントをもらえないことになります．  
さて，あなたはBさんに何ポイント渡すことを提案しますか？  
ここでは以下の条件の場合について教えて下さい.  

| 項目名                 | データタイトル | 質問項目                      | 回答                 |
| ---------------------- | -------------- | ----------------------------- | -------------------- |
| 最終提案提案者両親条件 | ULT_PRO_PAR    | Bさんが両親の場合             | 0ポイント-10ポイント |
| 最終提案提案者友人条件 | ULT_PRO_FRI    | Bさんが友人の場合             | 0ポイント-10ポイント |
| 最終提案提案者他者条件 | ULT_PRO_OTH    | Bさんが全く知らない他人の場合 | 0ポイント-10ポイント |



#### 最終提案ゲーム_応答者

図を見て下さい.
あなたはBさんです. AさんはTポイントを10ポイントを受け取りました.  
Aさんが，あなたに対して分け合うポイントを提案します．  
Aさんは，10ポイントの中から，あなたに対して分けたポイントを引いた残りを受け取ることができます．  
しかし，あなたがAさんの提案を拒否した場合には，その提案は実現せずに，  
お互いポイントをもらえないことになります．  
さて，最低でも何ポイントの提案を受けたら，Aさんの提案を受け入れますか？  
ここでは以下の条件の場合について教えて下さい.  

| 項目名                 | データタイトル | 質問項目                      | 回答                 |
| ---------------------- | -------------- | ----------------------------- | -------------------- |
| 最終提案応答者両親条件 | ULT_REC_PAR    | Bさんが両親の場合             | 0ポイント-10ポイント |
| 最終提案応答者友人条件 | ULT_REC_FRI    | Bさんが友人の場合             | 0ポイント-10ポイント |
| 最終提案応答者他者条件 | ULT_REC_OTH    | Bさんが全く知らない他人の場合 | 0ポイント-10ポイント |



#### 信頼ゲーム

図を見て下さい.  
あなたはAさんです. あなたはTポイントを10ポイント持っています.  
いくらかをCさんにあずけてください.   CさんはあなたからあずかったTポイントを3倍にしてBさんに渡します.  
Bさんは手元に渡されたポイントのうち，いくらかをあなたに返します.  
この時，あなたはCさんにいくらあずけますか？  
ここではBさんが以下の条件の場合について教えて下さい.  

| 項目名       | データタイトル | 質問項目                      | 回答                 |
| ------------ | -------------- | ----------------------------- | -------------------- |
| 信頼両親条件 | TRU_PAR        | Bさんが両親の場合             | 0ポイント-10ポイント |
| 信頼友人条件 | TRU_FRI        | Bさんが友人の場合             | 0ポイント-10ポイント |
| 信頼他者条件 | TRU_OTH        | Bさんが全く知らない他人の場合 | 0ポイント-10ポイント |



#### 自然関連

以下の質問について4点満点でお答えください．

| 項目名   | データタイトル | 質問項目                                                     | 回答                              |
| -------- | -------------- | ------------------------------------------------------------ | --------------------------------- |
| 自然運命 | SPN_UNM        | 何かの大きな力に自分の運命は動かされているように感じることがある. | 1全くそう思わない-4非常にそう思う |
| 自然感謝 | SPN_THK        | 自然などの人間を超えた力に感謝の気持ちを持つことがある.      | 1全くそう思わない-4非常にそう思う |
| 自然恐怖 | SPN_FEA        | 自然などの人間を超えた力に恐れの気持ちを持つことがある.      | 1全くそう思わない-4非常にそう思う |
| 自然生存 | SPN_LIV        | 自然などの人間を超えた力によって，生かされていると思うことがある. | 1全くそう思わない-4非常にそう思う |
| 自然大切 | SPN_IMP        | 自然は大切な存在である．                                     | 1全くそう思わない-4非常にそう思う |
|          |                |                                                              |                                   |

#### 監視

以下の質問について4点満点でお答えください．

| 項目名           | データタイトル | 質問項目                                                     | 回答                              |
| ---------------- | -------------- | ------------------------------------------------------------ | --------------------------------- |
| 第2者被監視感    | KAN_SEC        | 日常生活の中で，直接誰か（人間）に見られていると思うことがある． | 1全くそう思わない-4非常にそう思う |
| 第3者被監視感    | KAN_THI        | 日常生活の中で，監視カメラ等を通じて誰か（人間）に間接的に見られていると思うことがある． | 1全くそう思わない-4非常にそう思う |
| 超自然的被監視感 | KAN_SUP        | 日常生活の中で，超自然的な存在に見られていると思うことがある． | 1全くそう思わない-4非常にそう思う |
| 第2者被監視感    | KAN_PRD        | 無機物の中に，人間の表情のようなものを見出すことがある．     | 1全くそう思わない-4非常にそう思う |
| 自然大切         | KAN_KYK        | 人に対して共感をすることがある．                             | 1全くそう思わない-4非常にそう思う |
|                  |                |                                                              |                                   |

#### 死後

以下の質問について4点満点でお答えください．

| 項目名   | データタイトル | 質問項目                               | 回答                              |
| -------- | -------------- | -------------------------------------- | --------------------------------- |
| 死後世界 | DED_SHI        | 「死後の世界」が存在すると思いますか？ | 1全くそう思わない-4非常にそう思う |
| 天国     | DED_TEN        | 「天国」が存在すると思いますか？       | 1全くそう思わない-4非常にそう思う |
| 地獄     | DED_JIG        | 「地獄」が存在すると思いますか？       | 1全くそう思わない-4非常にそう思う |
| 奇跡     | DED_KIS        | 「奇跡」が存在すると思いますか？       | 1全くそう思わない-4非常にそう思う |
| 天罰     | DED_PUN        | 「天罰」が存在すると思いますか？       | 1全くそう思わない-4非常にそう思う |
|          |                |                                        |                                   |

#### 性行動

以下の質問についてお答えください． 

| 項目名     | データタイトル                           | 質問項目                                                     | 回答                                                         |
| ---------- | ---------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 性衝動     | SEX_IMP，SEX_IMP_num（数値，欠損値有り） | あなたの性衝動はどの程度強いと思いますか？7点満点でお答え下さい．なお，答えたくない方は「8.答えたくない」を選んで下さい． | 全く弱い．2. 弱い．3. どちらかと言えば弱い．4. どちらとも言えない．5. どちらかと言えば強い．6. 強い．7. 非常に強い．8. 答えたくない． |
| 自慰回数   | SEX_MAS，SEX_MAS_nen（年間回数）：       | あなたはどの程度の頻度でマスターベーションをしていますか？以下の選択肢の中から最も近いものを選んで下さい．なお，答えたくない方は「10. 答えたくない」を選んで下さい． | 1. 経験がない「0」, 2. 年に1回程度「1」, 3. 半年に1回程度「2」, 4. 3ヶ月に1回程度「4」, 5. 1ヶ月に1回程度「12」, 6. 2週に1回程度「26」, 7. 週に1回程度「52」, 8. 週に2-3回程度「130」, 9. 1日に1回程度「365」, 10. それ以上「730」, 11. 答えたくない「NA」 |
| 性交渉回数 | SEX_SEX，SEX_SEX_nen（年間回数）         | あなたはどの程度の頻度で性交渉（性行為）をしていますか？以下の選択肢の中から最も近いものを選んで下さい．なお，答えたくない方は「10. 答えたくない」を選んで下さい． | 1. 経験がない「0」, 2. 年に1回程度「1」, 3. 半年に1回程度「2」, 4. 3ヶ月に1回程度「4」, 5. 1ヶ月に1回程度「12」, 6. 2週に1回程度「26」, 7. 週に1回程度「52」, 8. 週に2-3回程度「130」, 9. 1日に1回程度「365」, 10. それ以上「730」, 11. 答えたくない「NA」 |
| 性衝動対象 | SEX_OBJ                                  | あなたの性衝動の対象として当てはまる選択肢を選んで下さい．なお，答えたくない方は「5.答えたくない」を選んで下さい． | 1.異性, 2. 同性,3. 両方,4. その他,5. 答えたくない            |
| 天罰       | SEX_NIN，SEX_NIN_cen（中央値）           | あなたが性交渉（性行為）をしたことがある人数を教えて下さい．* 性交渉を（性行為）したことがない場合は「0. 0人」を選んで下さい． また，答えたくない方は「12.答えたくない」を選んで下さい． | 1. 0人 「0」, 2. 1人 「1」, 3. 2〜3人 「2.5」, 4. 4〜5人 「4.5」, 5. 5〜7人 「6」, 6. 8〜10人 「9」, 7. 11〜15人 「13」, 8. 16〜20人 「18」, 9. 21〜30人 「25.5」, 10. 31〜40人 「35.5」, 11. 41〜100人 「70.5」, 12. 101人以上 「101」, 13. 答えたくない．「NA」 |
| 性情報開示 | SEX_NNA                                  | 性情報に対して開示しなかった個数                             | 上記5つについて答えたくないを選んだ個数                      |
|            |                                          |                                                              |                                                              |

#### フェイスシート

あなたのことについて教えて下さい．

| 項目名   | データタイトル                   | 質問項目                                                     | 回答                                                         |
| -------- | -------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 性別     | F_SEX                            | あなたの性別を教えて下さい.                                  | 1.男性, 2.女性,3.その他                                      |
| 世代     | F_GEN                            | あなたの年齢を教えて下さい.                                  | 1. 10代前半, 2. 10代後半, 3. 20代前半, 4. 20代後半, 5. 30代前半, 6. 30代後半, 7. 40代前半, 8. 40代後半, 9. 50代前半, 10. 50代前半, 11. 60代前半, 12. 60代後半, 13. 70代以降 |
| 最終学歴 | F_FGR                            | あなたの最終学歴を教えて下さい.                              | 1. 中学校卒業, 2. 高校中退, 3. 高校卒業, 4. 専門学校（短期大学）中退, 5. 専門学校（短期大学）卒業, 6. 大学中退, 7. 大学卒業, 8. 大学院修士課程（博士前期課程）中退, 9. 大学院修士課程（博士前期課程）修了, 10. 大学院博士課程（博士後期課程）中退, 11. 大学院博士課程（博士後期課程）修了 |
| 個人収入 | F_INK，F_INK_cen(中央値，百万円) | あなた個人の年収を教えて下さい.                              | 0. 0円, 1. 1円〜200万円未満, 2. 200万円以上〜400万円未満, 3. 400万円以上〜600万円未満, 4. 600万円以上〜800万円未満, 5. 800万円以上〜1,000万円未満, 6. 1,000万円以上〜1,200万円未満, 7. 1,200万円以上〜1,500万円未満, 8. 1,500万円以上〜2,000万円未満, 9. 2,000万円以上, 10. わからない |
| 世帯収入 | F_INS，F_INS_cen(中央値，百万円) | あなたの世帯での収入の合計を教えて下さい.                    | 0. 0円, 1. 1円〜200万円未満, 2. 200万円以上〜400万円未満, 3. 400万円以上〜600万円未満, 4. 600万円以上〜800万円未満, 5. 800万円以上〜1,000万円未満, 6. 1,000万円以上〜1,200万円未満, 7. 1,200万円以上〜1,500万円未満, 8. 1,500万円以上〜2,000万円未満, 9. 2,000万円以上, 10. わからない |
| 回答端末 | F_TAN                            | あなたが現在回答に使われているケータイ／タブレット／パソコンについて，当てはまるものを選んで下さい． | 1. パソコン（Windows）, 2. パソコン（Mac）, 3. パソコン（その他）, 4. タブレット（Windows）, 5. タブレット（iOS，iPad）, 6. タブレット（android）, 7. タブレット（その他）, 8. スマホ（Windows）, 9. スマホ（iOS，iPhone）, 10. スマホ（android）, 11. スマホ（その他）, 12. ガラケー，フィーチャーホン, 13. その他 |
| 都道府県 | PRE                              | あなたのお住まいの県を教えて下さい.                          | 1. 北海道2. 青森県3. 岩手県4. 宮城県5. 秋田県6. 山形県7. 福島県8. 茨城県9. 栃木県10. 群馬県11. 埼玉県12. 千葉県13. 東京都14. 神奈川県15. 新潟県16. 富山県17. 石川県18. 福井県19. 山梨県20. 長野県21. 岐阜県22. 静岡県23. 愛知県24. 三重県25. 滋賀県26. 京都府27. 大阪府28. 兵庫県29. 奈良県30. 和歌山県31. 鳥取県32. 島根県33. 岡山県34. 広島県35. 山口県36. 徳島県37. 香川県38. 愛媛県39. 高知県40. 福岡県41. 佐賀県42. 長崎県43. 熊本県44. 大分県45. 宮崎県46. 鹿児島県47. 沖縄県 |
| 地域     | ARE                              | 都道府県から地域に変換                                       | 北海道：1. 北海道，東北地方：2. 青森県3. 岩手県4. 宮城県5. 秋田県6. 山形県7. 福島県，関東地方：8. 茨城県9. 栃木県10. 群馬県11. 埼玉県12. 千葉県13. 東京都14. 神奈川県，中部地方：15. 新潟県16. 富山県17. 石川県18. 福井県19. 山梨県20. 長野県21. 岐阜県22. 静岡県23. 愛知県24. 三重県，近畿地方：25. 滋賀県26. 京都府27. 大阪府28. 兵庫県29. 奈良県30. 和歌山県，中国地方：31. 鳥取県32. 島根県33. 岡山県34. 広島県35. 山口県，四国地方：36. 徳島県37. 香川県38. 愛媛県39. 高知県，九州地方：40. 福岡県41. 佐賀県42. 長崎県43. 熊本県44. 大分県45. 宮崎県46. 鹿児島県47. 沖縄県|
| 未既婚 | MAR   |  あなたはご結婚されていますか？                                              | NotMarried：未婚，Married：既婚                                                             |
| 子の有無 | CHI                              | あなたはお子さんがいらっしゃいますか？                       | NoChild：いない，Child：いる                                             |




